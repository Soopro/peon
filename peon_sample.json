{
  "init":[
    {
      "install":["bower","npm"],
      "copy": {
        "libs":{
          "flatten": true,
          "src":[
            "lodash/dist/lodash.js",
            "angular/angular.js",
            "angular-cookies/angular-cookies.js",
            "angular-resource/angular-resource.js",
            "angular-route/angular-route.js",
            "angular-sanitize/angular-sanitize.js",
            "danialfarid-angular-file-upload/dist/angular-file-upload.js",
            "danialfarid-angular-file-upload/dist/angular-file-upload-shim.js"
          ],
          "cwd":"bower_components/",
          "dest":"/xxx"
        }
      }
    }
  ],
  
  "release":[
    {
      "clean": "dist",
      "copy":{
        "dist":{
          "src": [
            "*",
            "*/*",
            "*/*/*"
          ],
          "cwd": "build",
          "dest": "dist"
        }
      },
      "compress": {
        "angular_template":{
          "type": "angular_template",
          "src": "*.html",
          "cwd": "dist",
          "prefix": "",
          "beautify": false,
          "output":"index.html"
        },
        "process_html":{
          "type": "process_html",
          "cwd": "dist",
          "src": "index.html"
        },
        "html":{
          "type": "html",
          "cwd": "dist",
          "src": "index.html"
        }
      },
      "replace": {
        "src": "*.min.*",
        "cwd": "dist",
        "replacements": [
          {
            "pattern": "/styles/icons/svg",
            "replace": "svg"
          }
        ]
      },
      "scrap": {
        "src":[
          "*.js",
          "*.html",
          "styles/*.png",
          "!*.min.*",
          "!*.png",
          "!index.html"
        ],
        "cwd":"dist"
      },
      "rev":{
        "src":"*.html",
        "cwd":"dist",
        "find":"?md5=null",
        "pattern":"null"
      }
    }
  ],
  "backup":{
    "redis":{
      "src":"/Users/redy/dump.rdb",
      "dbhost":null,
      "port":null,
      "user":null,
      "pwd":null,
      "dest":null
    },
    "mongodb":{
      "dbname":"dev",
      "dbhost":null,
      "port":null,
      "user":null,
      "pwd":null,
      "src":null,
      "dest":null
    },
    "files":{
      "src":[
        "/Users/redy/deployment_data/",
        "/Users/redy/etc/nginx/sites-available/"
      ]
    }
  },
  "packing":[
    {
      "zip":{
        "cwd":null,
        "file":null,
        "include_hidden":false,
        "include_peon_config":false,
        "excludes":[]
      },
      "upload":{
        "cwd":null,
        "file":null,
        "headers":{
          "SecretKey":"1d02aa814dc64db3a6494624ca35a03a"
        },
        "url":"http://localhost:5000/ws/test/develop_theme",
        "data":null,
        "params":null
      }
    }
  ],
  "transport":{
    "upload":{
      "type":"upload",
      "cwd":"content",
      "replace": [
        {
          "pattern":"/$uploads/", 
          "replacement":"http://localstatic:5050/apps/redy/123123/uploads/"
        }
      ],
      "headers":{
        "content-type": "application/json",
        "SecretKey":"1d02aa814dc64db3a6494624ca35a03a"
      },
      "url":"http://localhost:5000/ws/123123/develop_sync_sitedata"
    },
    "download":{
      "type":"download",
      "dest":"content",
      "replace": [
        {
          "pattern":"http://localstatic:5050/apps/redy/123123/uploads/", 
          "replacement":"/$uploads/"
        }
      ],
      "headers":{
        "SecretKey":"1d02aa814dc64db3a6494624ca35a03a"
      },
      "url":"http://localhost:5000/ws/123123/develop_sync_sitedata"
    }
  }
}